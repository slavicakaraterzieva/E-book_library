{% extends "layout.html" %}

{% block mytitle %}

{% endblock %}

{% block main %}

<h1 class="mb-5">Account Details</h1>

<p class="hidden" id="message" style="color:orange">
  <b>
  Your account will be deleted with your login data.
  If you have any books left on the platform,
  will be kept for readers to read them.
  If you don't want any books left,
  please delete them before deleting your account.
  </b>

</p>
<div class="row">
  <!--vertical nav-->
  <nav class="navbar navbar-brand bg-dark col-sm-3 mb-3">

    <div class="container-fluid">
      <!-- Links -->
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link  text-light" href="/account">Your Account</a>
          <li class="nav-item">
            <a class="nav-link  text-light" href="/edit_account">Edit Account Details</a>
          </li>
          <li class="nav-item" id="delete">
            <a class="nav-link  text-light" href="/delete_account">Delete Account</a>
          </li>
          {% if type == "publisher" %}
          <script>
            document.getElementById('delete').onmouseover = function(){
              document.getElementById('message').classList.remove('hidden');}
            document.getElementById('delete').onmouseout = function(){
                document.getElementById('message').classList.add('hidden');}
          </script>
          {% endif %}
          <li class="nav-item">
            <a class="nav-link  text-light" href="/edit_login">Edit Login Details</a>
          </li>
        </li>
        <li class="nav-item">
          <a class="nav-link  text-light" href="/list_books">Read a Book</a>
        </li>
        {% if type == "publisher" %}
          <li class="nav-item">
            <a class="nav-link  text-light" href="/upload_file">Upload Document</a>
          </li>
          <li class="nav-item">
            <a class="nav-link  text-light" href="/update_desc">Update Description</a>
          </li>
        {% endif %}
      </ul>
    </div>

  </nav>

  <div class="col-lg-8">
    <p>{{username}} {{type}}</p>

    {% if type == "publisher" %}
    <form action="/update_account" method="post">
        <label for="first_name">First Name</label>
        <input class="form-control mb-2" type="text" id="first_name" name="first_name">
        <label for="last_name">Last Name</label>
        <input class="form-control mb-2" type="text" id="last_name" name="last_name">
        <label for="user_name">User Name</label>
        <input class="form-control mb-2" type="text" id="user_name" name="user_name" value="{{username}}">
        <button class="btn btn-primary" type="submit">Update Details</button>
      </form>
      {% endif %}

    {% if type == "reader" %}
    <form action="/update_account" method="post">
        <label for="first_name">First Name</label>
        <input class="form-control mb-2" type="text" id="first_name" name="first_name">
        <label for="last_name">Last Name</label>
        <input class="form-control mb-2" type="text" id="last_name" name="last_name">
        <label for="user_name">User Name</label>
        <input class="form-control mb-2" type="text" id="user_name" name="user_name" value="{{username}}">
        <button class="btn btn-primary" type="submit">Update Details</button>
      </form>
      {% endif %}

  </div>
</div>


{% endblock %}
